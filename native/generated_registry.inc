// --- AUTOMATICALLY GENERATED BY gen_bridge.exs ---
typedef int64_t (*KernelFunc)(const int64_t* data, size_t length);

// 1. EXTERNS
extern int64_t fp_fold_sumsq_i64(const int64_t* in, size_t n);
extern int64_t fp_reduce_add_i64(const int64_t* in, size_t n);
extern int64_t fp_reduce_max_i64(const int64_t* in, size_t n);
extern int64_t fp_reduce_min_i64(const int64_t* in, size_t n);
extern int64_t fp_reduce_product_i64(const int64_t* in, size_t n);

// 2. REGISTRY
typedef struct { const char* name; KernelFunc func; } KernelEntry;
static KernelEntry KERNEL_TABLE[] = {
    {"fp_fold_sumsq_i64", fp_fold_sumsq_i64},
    {"fp_reduce_add_i64", fp_reduce_add_i64},
    {"fp_reduce_max_i64", fp_reduce_max_i64},
    {"fp_reduce_min_i64", fp_reduce_min_i64},
    {"fp_reduce_product_i64", fp_reduce_product_i64},
    {NULL, NULL}
};

// 3. LOOKUP
KernelFunc get_kernel(const char* name) {
    for (int i = 0; KERNEL_TABLE[i].name != NULL; i++) {
        if (strcmp(KERNEL_TABLE[i].name, name) == 0) return KERNEL_TABLE[i].func;
    }
    return NULL;
}
